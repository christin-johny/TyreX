<%- include("../partials/admin/sidebar") %>

<div class="container mt-5">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h4>Transaction Details</h4>
    </div>
    <div class="card-body">

      <!-- User Details -->
      <h5 class="mb-3">User Information</h5>
      <ul class="list-group mb-4">
        <li class="list-group-item"><strong>Name:</strong> <%=wallet.userId.name%></li>
        <li class="list-group-item"><strong>Email:</strong> <%=wallet.userId.email%></li>
        <li class="list-group-item"><strong>Phone:</strong> <%=wallet.userId.phone ? wallet.userId.phone : "NA"%></li>
      </ul>

      <!-- Transaction Info -->
      <h5 class="mb-3">Transaction Information</h5>
      <ul class="list-group mb-4">
        <li class="list-group-item"><strong>Transaction ID:</strong> <%=transaction.transactionId%></li>
        <li class="list-group-item"><strong>Date:</strong> <%= new Date(transaction.date).toLocaleString("en-IN", { year: "numeric", month: "2-digit", day: "2-digit", hour: "2-digit", minute: "2-digit", hour12: false }) %>
        </li>
        <li class="list-group-item">
          <strong>Type:</strong>
          <span class="badge <%= transaction.type === 'credit' ? 'bg-success text-dark' : 'bg-danger text-white' %>">
            <%= transaction.type.charAt(0).toUpperCase() + transaction.type.slice(1) %>
          </span>
        </li>
        <li class="list-group-item"><strong>Amount:</strong> â‚¹<%=transaction.amount%></li>
        <li class="list-group-item"><strong>Transaction Source:</strong> <%=transaction.description%></li>
      </ul>

      <%if(transaction.orderId){%>
        <a href="/admin/adminOrders/<%= transaction.orderId %>" class="btn btn-warning">
          View Related Order
        </a>
        <%}%>

      <a href="/admin/wallet" class="btn btn-secondary mt-3">Back to Wallet</a>

    </div>
  </div>
</div>

<script src="https://kit.fontawesome.com/a2d9d6e91b.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
